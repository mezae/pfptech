<section class="row" data-ng-controller="ManageUsersController" data-ng-init="findUsers()">
	<div class="col-md-offset-2 col-md-8" ng-show="!addNewUser">
    <div class="table-responsive">
      <table class="table">
        <thead>
          <th>
            Username
          </th>
          <th>
            Name
          </th>
          <th>
            E-mail
          </th>
          <th>
            Role
          </th>
        </thead>
        <tbody>
          <tr ng-repeat="member in staff | orderBy: 'roles[0]'" ng-mouseenter="turn = true" ng-mouseleave="turn = false">
            <td>
              {{member.username}}
            </td>
            <td>
              {{member.displayName}}
            </td>
            <td>
              {{member.email}}
            </td>
            <td class="hover-btn">
              {{member.roles[0]}} <button class="edit-user btn-link" ng-if="turn" ng-click="editUser(member, $index)"><i class="glyphicon glyphicon-pencil"></i></button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-md-12 text-center" ng-show="!addNewUser">
    <button class="ebtn btn-login" ng-click="addNewUser = true">Add New User</button>
  </div>
  <div class="col-xs-offset-1 col-xs-10 col-md-offset-4 col-md-4" ng-show="addNewUser">
    <form name="userForm" data-ng-submit="saveProfile()" class="signin form-horizontal" autocomplete="off">
			<fieldset>
				<div class="form-group">
					<label for="firstName">First Name</label>
					<input type="text" id="firstName" name="firstName" class="form-control form-look" data-ng-model="newUser.firstName" placeholder="first name" required>
				</div>
				<div class="form-group">
					<label for="lastName">Last Name</label>
					<input type="text" id="lastName" name="lastName" class="form-control form-look" data-ng-model="newUser.lastName" placeholder="last name" required>
				</div>
				<div class="form-group">
					<label for="email">Email</label>
					<input type="email" id="email" name="email" class="form-control form-look" data-ng-model="newUser.email" placeholder="email">
				</div>
				<div class="form-group">
					<label for="username">Username</label>
					<input type="text" id="username" name="username" class="form-control form-look" data-ng-model="newUser.username" placeholder="username">
				</div>
        <div class="form-group">
					<label for="role">Role</label>
					<select id="role" name="username" class="form-control form-look" data-ng-model="newUser.roles[0]">
            <option value="" disabled>select user role</option>
            <option value="admin">admin</option>
            <option value="user">user</option>
          </select>
				</div>
        <div class="inline">
          <div class="text-center pull-left">
  					<button type="reset" class="ebtn btn-login" ng-click="cancel()">Cancel</button>
  				</div>
  				<div class="text-center pull-right form-group">
  					<button type="submit" class="ebtn btn-login">Save Profile</button>
  				</div>
        </div>
				<div data-ng-show="success" class="text-center text-success">
					<strong>Profile Saved Successfully</strong>
				</div>
				<div data-ng-show="error" class="text-center text-danger">
					<strong data-ng-bind="error"></strong>
				</div>
			</fieldset>
		</form>
	</div>
</section>
